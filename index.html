<html>
<head>
  <title>Angular Web Services Demo</title>
  <!-- include angualr js //-->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>

  <!-- css styles //-->
  <link rel="stylesheet" media="screen" href="bootstrap.css" />
  <style>
  #books_section {
    width: 80%;
    margin-left:auto;
    margin-right:auto;
  }
  </style>
</head>

<body>
  <article ng-app="firstApp">
   <section id="books_section" ng-controller="booksCtrl">

     <h2>Book List</h2>
     <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Book Title</th>
          <th>Author</th>
          <th>Photo</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="book in data.books">
          <td>{{book.name}}</td>
          <td>{{book.author}}</td>
          <td><img src={{book.url}} width="30%"/></td>
        </tr>
      </tbody>
    </table>
   </section>
  </article>

  <div style="width:80%; margin-left:auto; margin-right:auto;">
    <p>An angular web service consumption example <br/>Hamzeen. H. Sunday, 24th July 2016</p>
  </div>

<!-- the controller for consuming the web service & reading its attributes (parsing)//-->
<script type="text/javascript">
  var app = angular.module('firstApp', []);
  app.controller('booksCtrl', function($scope, $http) {
    // angular js's built-in method for consuming web services
    $http.get("https://whispering-woodland-9020.herokuapp.com/getAllBooks")
    .then(function(response) {
      $scope.data = response.data;
    });
  });
</script>
</body>
</html>
